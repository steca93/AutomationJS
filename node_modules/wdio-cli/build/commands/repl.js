'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.handler = exports.desc = exports.command = undefined;

var _sourceMapSupport2 = require('source-map-support');

var _webdriverio = require('webdriverio');

function _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step("next", value); }, function (err) { step("throw", err); }); } } return step("next"); }); }; }

(0, _sourceMapSupport2.install)();
const command = exports.command = 'repl <browserName>';
const desc = exports.desc = 'Run WebDriver session in command line';

const handler = exports.handler = (() => {
    var _ref = _asyncToGenerator(function* (argv) {
        const browserName = argv.browserName;


        const client = yield (0, _webdriverio.remote)(Object.assign(argv, {
            capabilities: {
                browserName
            }
        }));

        global.$ = client.$.bind(client);
        global.$$ = client.$$.bind(client);
        global.browser = client;

        yield client.debug();
        yield client.deleteSession();
    });

    return function handler(_x) {
        return _ref.apply(this, arguments);
    };
})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9jb21tYW5kcy9yZXBsLmpzIl0sIm5hbWVzIjpbImNvbW1hbmQiLCJkZXNjIiwiaGFuZGxlciIsImFyZ3YiLCJicm93c2VyTmFtZSIsImNsaWVudCIsIk9iamVjdCIsImFzc2lnbiIsImNhcGFiaWxpdGllcyIsImdsb2JhbCIsIiQiLCIkJCIsImJyb3dzZXIiLCJkZWJ1ZyIsImRlbGV0ZVNlc3Npb24iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOzs7OztBQUVPLE1BQU1BLDRCQUFVLG9CQUFoQjtBQUNBLE1BQU1DLHNCQUFPLHVDQUFiOztBQUVBLE1BQU1DO0FBQUEsaUNBQVUsV0FBT0MsSUFBUCxFQUFnQjtBQUFBLGNBQzNCQyxXQUQyQixHQUNYRCxJQURXLENBQzNCQyxXQUQyQjs7O0FBR25DLGNBQU1DLFNBQVMsTUFBTSx5QkFBT0MsT0FBT0MsTUFBUCxDQUFjSixJQUFkLEVBQW9CO0FBQzVDSywwQkFBYztBQUNWSjtBQURVO0FBRDhCLFNBQXBCLENBQVAsQ0FBckI7O0FBTUFLLGVBQU9DLENBQVAsR0FBYUwsT0FBT0ssQ0FBcEIsTUFBYUwsTUFBYjtBQUNBSSxlQUFPRSxFQUFQLEdBQWNOLE9BQU9NLEVBQXJCLE1BQWNOLE1BQWQ7QUFDQUksZUFBT0csT0FBUCxHQUFpQlAsTUFBakI7O0FBRUEsY0FBTUEsT0FBT1EsS0FBUCxFQUFOO0FBQ0EsY0FBTVIsT0FBT1MsYUFBUCxFQUFOO0FBQ0gsS0FmWTs7QUFBQTtBQUFBO0FBQUE7QUFBQSxJQUFOIiwiZmlsZSI6InJlcGwuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyByZW1vdGUgfSBmcm9tICd3ZWJkcml2ZXJpbydcblxuZXhwb3J0IGNvbnN0IGNvbW1hbmQgPSAncmVwbCA8YnJvd3Nlck5hbWU+J1xuZXhwb3J0IGNvbnN0IGRlc2MgPSAnUnVuIFdlYkRyaXZlciBzZXNzaW9uIGluIGNvbW1hbmQgbGluZSdcblxuZXhwb3J0IGNvbnN0IGhhbmRsZXIgPSBhc3luYyAoYXJndikgPT4ge1xuICAgIGNvbnN0IHsgYnJvd3Nlck5hbWUgfSA9IGFyZ3ZcblxuICAgIGNvbnN0IGNsaWVudCA9IGF3YWl0IHJlbW90ZShPYmplY3QuYXNzaWduKGFyZ3YsIHtcbiAgICAgICAgY2FwYWJpbGl0aWVzOiB7XG4gICAgICAgICAgICBicm93c2VyTmFtZVxuICAgICAgICB9XG4gICAgfSkpXG5cbiAgICBnbG9iYWwuJCA9IDo6Y2xpZW50LiRcbiAgICBnbG9iYWwuJCQgPSA6OmNsaWVudC4kJFxuICAgIGdsb2JhbC5icm93c2VyID0gY2xpZW50XG5cbiAgICBhd2FpdCBjbGllbnQuZGVidWcoKVxuICAgIGF3YWl0IGNsaWVudC5kZWxldGVTZXNzaW9uKClcbn1cbiJdfQ==